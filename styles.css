:root, [data-theme="dim"] {
  --bg: #0a0f14;
  --text: rgba(230, 244, 255, 0.92);
  --muted: rgba(200, 220, 240, 0.65);
  --card-bg: rgba(10, 15, 20, 0.82);
  --heading: #eaf6ff;
  --accent: #00d4ff;
  --accent-weak: rgba(0, 212, 255, 0.45);
  --accent-weak-2: rgba(0, 212, 255, 0.22);
  --accent-very-weak: rgba(0, 212, 255, 0.07);
  --glass-border: rgba(0, 212, 255, 0.28);
  --glass-shadow: rgba(0, 212, 255, 0.22);
  --glass-inset: rgba(0, 212, 255, 0.10);

  --footer-h: 54px;
}

* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }

html, body { height: 100%; }
body {
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100svh;              
  overflow: hidden;             
  background: var(--bg);
  color: var(--text);
  padding: 20px;
  align-items: center;          
  justify-items: center;       
  perspective: 1000px;
}

#particles-js { position:fixed; inset:0; z-index:-5; }
.vignette { position:fixed; inset:0; pointer-events:none; z-index:-2;
  background: radial-gradient(110% 110% at 50% 50%, transparent 58%, rgba(0,0,0,0.22) 100%); }
.noise-overlay{ position:fixed; inset:0; z-index:-4; pointer-events:none; opacity:.06; mix-blend-mode: overlay;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(#n)" opacity="0.35"/></svg>');
  animation: noisePulse 6s steps(2,end) infinite; }
@keyframes noisePulse{ 50%{ opacity:.09 } }

.collision {
  position: fixed; top: -5vh; bottom: -5vh; width: min(24vw, 260px);
  z-index: -3; filter: saturate(120%) blur(14px); pointer-events:none; transform-style: preserve-3d;
  animation: hueDrift 24s ease-in-out infinite;
}
@keyframes hueDrift { 50%{ filter: hue-rotate(10deg) saturate(125%) blur(14px); } }
.collision-left  { left: -4vw; transform: rotateY(8deg); }
.collision-right { right: -4vw; transform: rotateY(-8deg); }

.collision .beam {
  position:absolute; left:0; right:0;
  background:
    linear-gradient(180deg, transparent 0%, var(--accent-very-weak) 20%, var(--accent-weak) 50%, var(--accent-very-weak) 80%, transparent 100%),
    radial-gradient(60% 50% at 50% 50%, var(--accent) 0%, transparent 70%);
  border: 1px solid var(--accent-weak-2);
  box-shadow: 0 0 24px var(--accent-weak), inset 0 0 16px var(--accent-weak-2);
  opacity:.85;
}
.collision-right .beam { --sk: 6deg; }
.collision-left  .beam { --sk:-6deg; }
@keyframes beamSweep {
  0%   { transform: translateY(-6vh) skewX(var(--sk)) translateZ(20px); }
  50%  { transform: translateY( 6vh) skewX(var(--sk)) translateZ(20px); }
  100% { transform: translateY(-6vh) skewX(var(--sk)) translateZ(20px); }
}
.collision { --spd1: 7s; --spd2: 10s; --spd3: 13s; --opa1:.9; --opa2:.65; --opa3:.45; }
.collision .beam.layer1 { top: 0%;  height:34%; filter: blur(8px);  opacity:var(--opa1); animation: beamSweep var(--spd1) ease-in-out infinite; }
.collision .beam.layer2 { top:28%;  height:38%; filter: blur(14px); opacity:var(--opa2); animation: beamSweep var(--spd2) ease-in-out infinite; }
.collision .beam.layer3 { top:56%;  height:42%; filter: blur(20px); opacity:var(--opa3); animation: beamSweep var(--spd3) ease-in-out infinite; }

.collision::after{
  content:""; position:absolute; inset:-6%;
  background: conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,0) 0 70%, rgba(255,255,255,.25) 85%, rgba(255,255,255,0) 100%);
  mix-blend-mode: screen; animation: prismSpin 16s linear infinite; filter: blur(10px) saturate(130%); opacity:.35;
}
@keyframes prismSpin{ to{ transform: rotate(360deg); } }
.collision .glint{ position:absolute; inset:0;
  background: repeating-linear-gradient(135deg, rgba(255,255,255,0.08) 0 2px, transparent 2px 10px);
  mix-blend-mode: screen; animation: glintSlide 8s linear infinite; opacity:.15; filter: blur(2px); }
@keyframes glintSlide{ 0%{ transform: translateX(-10%);} 100%{ transform: translateX(10%);} }
.collision .sparks{ position:absolute; inset:0; mix-blend-mode: screen;
  background:
    radial-gradient(2px 2px at 10% 20%, rgba(0,212,255,.9), transparent 60%),
    radial-gradient(1.5px 1.5px at 40% 80%, rgba(0,212,255,.7), transparent 60%),
    radial-gradient(2px 2px at 70% 30%, rgba(255,255,255,.9), transparent 60%),
    radial-gradient(1.5px 1.5px at 85% 60%, rgba(0,212,255,.8), transparent 60%);
  animation: sparksFloat 5.5s ease-in-out infinite; opacity:.35; filter: blur(.2px); }
@keyframes sparksFloat{ 0%{ transform: translateY(0);} 50%{ transform: translateY(6px);} 100%{ transform: translateY(0);} }

main.card-container{
  position: relative; z-index: 0;
  width: 100%;
  display: flex; align-items: center; justify-content: center;
  min-height: 0; 
}
.portfolio-card{
  background: var(--card-bg);
  border: 1px solid var(--glass-border);
  border-radius: 24px;
  box-shadow: 0 8px 32px var(--glass-shadow), inset 0 0 16px var(--glass-inset);
  backdrop-filter: blur(10px);
  max-width: 760px; width: 100%;
  max-height: calc(100svh - var(--footer-h) - 40px); 
  display: flex; flex-direction: column;
  animation: fadeIn 1.1s cubic-bezier(0.165,0.84,0.44,1) forwards;
}
@keyframes fadeIn { from{opacity:0; transform: translateY(28px) scale(.985);} to{opacity:1; transform:none;} }

.card-header{
  display:flex; justify-content:space-between; align-items:center; gap:20px;
  padding:26px 32px; border-bottom:1px solid var(--glass-border);
}
.header-info{ text-align:left; }
.card-title{ font-family:'Cinzel',serif; font-size: clamp(2rem, 2.4rem + 1vw, 3rem); color:var(--heading); margin-bottom:6px; }
.card-subtitle{ font-size:1.05rem; color:var(--muted); margin-bottom:14px; }

.avatar-wrap{ position:relative; }
.profile-pic{ width:120px; height:120px; border-radius:50%; border:3px solid var(--accent); box-shadow:0 0 22px var(--accent-weak); object-fit:cover; transition:transform .3s ease; }
.profile-pic:hover{ transform: rotate(-2deg) scale(1.03); }
.avatar-wrap .scan-line{ position:absolute; left:0; right:0; height:2px; top:-4px; background:linear-gradient(90deg, transparent, var(--accent), transparent); filter: drop-shadow(0 0 6px var(--accent)); animation: scanLine 2.8s linear infinite; }
@keyframes scanLine{ 0%{ top:-4px; opacity:0;} 10%{opacity:.8;} 50%{ top: calc(100% + 4px); opacity:.8;} 60%{opacity:0;} 100%{top:-4px; opacity:0;} }

.actions{ display:flex; gap:14px; flex-wrap:wrap; }
.social-links{ display:flex; gap:18px; }
.social-links a{ color:var(--accent); font-size:1.6rem; text-decoration:none; transition: transform .2s, text-shadow .2s, color .2s; }
.social-links a:hover{ color:var(--heading); text-shadow:0 0 15px var(--accent-weak); transform: translateY(-2px); }
.btn{ border:1px solid var(--glass-border); background: linear-gradient(180deg, var(--accent-very-weak), transparent); color:var(--heading); padding:8px 12px; border-radius:10px; font-size:.9rem; text-decoration:none; transition: transform .2s, box-shadow .2s, border-color .2s; }
.btn:hover{ transform: translateY(-1px); box-shadow:0 4px 16px var(--glass-shadow); border-color: var(--accent-weak); }

.card-body{ flex:1 1 auto; overflow-y:auto; padding:10px 32px 28px 32px; min-height:0; }
.card-body section{ margin-bottom:26px; }
.section-title-card{ color:var(--accent); text-align:center; margin-bottom:16px; font-family:'Cinzel',serif; font-weight:700; letter-spacing:3px; font-size:1.32rem; }

.experience-card{ margin-bottom:20px; border-left:3px solid var(--accent); padding-left:16px; }
.experience-card h3{ color:var(--heading); font-size:1.1rem; margin-bottom:3px; }
.experience-card h4{ color:var(--accent); font-weight:500; margin-bottom:10px; font-size:.92rem; }
.experience-card ul{ list-style:none; padding-left:0; }
.experience-card li{ margin-bottom:8px; line-height:1.6; font-size:.95rem; color:var(--text); }

.project-card{ background:var(--accent-very-weak); border:1px solid var(--accent-weak-2); border-radius:12px; padding:18px; margin-bottom:16px; }
.project-card h3{ color:var(--accent); margin-bottom:8px; font-size:1.12rem; }
.project-card p{ color:var(--text); line-height:1.65; font-size:.95rem; }
.badges{ display:flex; flex-wrap:wrap; gap:8px; margin-top:12px; }
.badge{ border:1px dashed var(--accent-weak); padding:4px 8px; border-radius:999px; font-size:.8rem; color:var(--heading); opacity:.9; }

.skills-grid{ display:flex; flex-wrap:wrap; justify-content:center; gap:10px; }
.skill-card{ background:rgba(127,127,127,0.07); border:1px solid var(--glass-border); border-radius:8px; padding:8px 14px; font-weight:500; font-size:.9rem; color:var(--accent); transition:transform .2s; }
.skill-card:hover{ transform: translateY(-1px); }

footer{
  position: relative; z-index: 0;
  width: 100%; text-align: center;
  padding: 12px 5%;
}
footer p{ color: var(--muted); font-size: .9rem; }
footer a{ color: #bfefff; text-decoration:none; transition: color .3s, text-shadow .3s; }
footer a:hover{ text-shadow: 0 0 5px var(--accent-weak); }

.card-body::-webkit-scrollbar { width:8px; }
.card-body::-webkit-scrollbar-thumb { background-color: var(--accent-weak); border-radius:10px; border:2px solid transparent; background-clip: content-box; }
.card-body::-webkit-scrollbar-thumb:hover { background-color: var(--accent); }

@media (max-width: 560px){
  .card-header{ flex-direction:column-reverse; gap:14px; padding:22px; }
  .header-info{ text-align:center; }
  .social-links{ justify-content:center; }
  .card-body{ padding:10px 22px 24px 22px; }
  body::before, body::after { width: 28vw; }
  .collision { width: 28vw; }
}
@media (prefers-reduced-motion: reduce){ *{ animation:none !important; transition:none !important; } }
